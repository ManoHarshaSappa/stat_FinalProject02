<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Final Project - Project Details</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Final Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./Home.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./Project Details.html" aria-current="page"> 
<span class="menu-text">Project Details</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Final Project.html"> 
<span class="menu-text">Final Project</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./About Us.html"> 
<span class="menu-text">About Us</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project Details</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="project-details-checking" class="level2">
<h2 class="anchored" data-anchor-id="project-details-checking">Project Details: checking</h2>
<div style="text-align:justify">
<p>The Dataset, sourced from the Maryland State Police’s Automated Crash Reporting System, encompasses traffic collisions in Montgomery County, MD, from 2020 to 2023, comprising 172,106 rows and 43 columns. It provides details on collision dates, locations, vehicle types, driver conditions, and fault attributions, facilitating analysis of collision trends and the development of predictive models for road safety measures. The dataset can be accessed through the following</p>
<p>URL: <a href="https://catalog.data.gov/dataset/crash-reporting-drivers-data" class="uri">https://catalog.data.gov/dataset/crash-reporting-drivers-data</a></p>
</div>
<section id="traffic-incident-dataset-column-descriptions" class="level4">
<h4 class="anchored" data-anchor-id="traffic-incident-dataset-column-descriptions">Traffic Incident Dataset Column Descriptions:</h4>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>No</th>
<th>Column Name</th>
<th>Data Type</th>
<th>Explanation</th>
<th>Example Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Report Number</td>
<td>Object</td>
<td>Unique identifier for each incident report.</td>
<td>“RPT2024-001”, “RPT2024-002”,..</td>
</tr>
<tr class="even">
<td>2</td>
<td>Local Case Number</td>
<td>Object</td>
<td>Identifier within the local jurisdiction.</td>
<td>“LCN001”, “LCN002”,..</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Agency Name</td>
<td>Object</td>
<td>Organization handling the incident report.</td>
<td>“Police Department”, “DOT”,..</td>
</tr>
<tr class="even">
<td>4</td>
<td>ACRS Report Type</td>
<td>Object</td>
<td>Type of report per the Administrative Code Reporting System.</td>
<td>“Crash”, “Incident”,..</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Crash Date/Time</td>
<td>Object</td>
<td>Date and time when the crash occurred.</td>
<td>“2024-04-30 14:30:00”,..</td>
</tr>
<tr class="even">
<td>6</td>
<td>Route Type</td>
<td>Object</td>
<td>Type of route where the crash happened.</td>
<td>“Highway”, “Local Road”,..</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Road Name</td>
<td>Object</td>
<td>Name of the road where the crash occurred.</td>
<td>“Main Street”, “Broadway”,..</td>
</tr>
<tr class="even">
<td>8</td>
<td>Cross-Street Type</td>
<td>Object</td>
<td>Type of intersecting street.</td>
<td>“Street”, “Avenue”,..</td>
</tr>
<tr class="odd">
<td>9</td>
<td>Cross-Street Name</td>
<td>Object</td>
<td>Name of the intersecting street.</td>
<td>“Elm Street”, “Maple Avenue”,..</td>
</tr>
<tr class="even">
<td>10</td>
<td>Off-Road Description</td>
<td>Object</td>
<td>Description if crash occurred off-road.</td>
<td>“Parking Lot”, “Field”,..</td>
</tr>
<tr class="odd">
<td>11</td>
<td>Municipality</td>
<td>Object</td>
<td>City or town where the crash occurred.</td>
<td>“City A”, “Town B”,..</td>
</tr>
<tr class="even">
<td>12</td>
<td>Related Non-Motorist</td>
<td>Object</td>
<td>Non-motorist involved in the incident.</td>
<td>“Pedestrian”, “Cyclist”,..</td>
</tr>
<tr class="odd">
<td>13</td>
<td>Collision Type</td>
<td>Object</td>
<td>Type of collision.</td>
<td>“Rear-end”, “Head-on”,..</td>
</tr>
<tr class="even">
<td>14</td>
<td>Weather</td>
<td>Object</td>
<td>Weather conditions at the time of the crash.</td>
<td>“Clear”, “Rain”,..</td>
</tr>
<tr class="odd">
<td>15</td>
<td>Surface Condition</td>
<td>Object</td>
<td>Road surface condition at the time of the crash.</td>
<td>“Dry”, “Wet”,..</td>
</tr>
<tr class="even">
<td>16</td>
<td>Light</td>
<td>Object</td>
<td>Lighting conditions at the time of the crash.</td>
<td>“Daylight”, “Dark”,..</td>
</tr>
<tr class="odd">
<td>17</td>
<td>Traffic Control</td>
<td>Object</td>
<td>Type of traffic control at the scene.</td>
<td>“Traffic Signal”, “Stop Sign”,..</td>
</tr>
<tr class="even">
<td>18</td>
<td>Driver Substance Abuse</td>
<td>Object</td>
<td>Whether driver was under substance influence.</td>
<td>“Yes”, “No”,..</td>
</tr>
<tr class="odd">
<td>19</td>
<td>Non-Motorist Substance Abuse</td>
<td>Object</td>
<td>Whether non-motorist was under substance influence.</td>
<td>“Yes”, “No”,..</td>
</tr>
<tr class="even">
<td>20</td>
<td>Person ID</td>
<td>Object</td>
<td>Unique identifier for individuals involved.</td>
<td>“PID001”, “PID002”,..</td>
</tr>
<tr class="odd">
<td>21</td>
<td>Driver At Fault</td>
<td>Object</td>
<td>Whether driver was at fault.</td>
<td>“Yes”, “No”,..</td>
</tr>
<tr class="even">
<td>22</td>
<td>Injury Severity</td>
<td>Object</td>
<td>Severity of injuries sustained.</td>
<td>“Fatal”, “Minor Injury”,..</td>
</tr>
<tr class="odd">
<td>23</td>
<td>Circumstance</td>
<td>Object</td>
<td>Specific circumstances surrounding the incident.</td>
<td>“Speeding”, “Distracted Driving”,..</td>
</tr>
<tr class="even">
<td>24</td>
<td>Driver Distracted By</td>
<td>Object</td>
<td>What the driver was distracted by.</td>
<td>“Cell Phone”, “Passenger”,..</td>
</tr>
<tr class="odd">
<td>25</td>
<td>Drivers License State</td>
<td>Object</td>
<td>State where driver’s license was issued.</td>
<td>“CA”, “NY”,..</td>
</tr>
<tr class="even">
<td>26</td>
<td>Vehicle ID</td>
<td>Object</td>
<td>Unique identifier for vehicles involved.</td>
<td>“VID001”, “VID002”,..</td>
</tr>
<tr class="odd">
<td>27</td>
<td>Vehicle Damage Extent</td>
<td>Object</td>
<td>Extent of damage to the vehicle.</td>
<td>“Minor”, “Severe”,..</td>
</tr>
<tr class="even">
<td>28</td>
<td>Vehicle First Impact Location</td>
<td>Object</td>
<td>Location on vehicle of first impact.</td>
<td>“Front”, “Rear”,..</td>
</tr>
<tr class="odd">
<td>29</td>
<td>Vehicle Second Impact Location</td>
<td>Object</td>
<td>Location on vehicle of second impact.</td>
<td>“Side”, “Front”,..</td>
</tr>
<tr class="even">
<td>30</td>
<td>Vehicle Body Type</td>
<td>Object</td>
<td>Type of vehicle body.</td>
<td>“Sedan”, “SUV”,..</td>
</tr>
<tr class="odd">
<td>31</td>
<td>Vehicle Movement</td>
<td>Object</td>
<td>Movement of the vehicle at the time of the crash.</td>
<td>“Stopped”, “Moving”,..</td>
</tr>
<tr class="even">
<td>32</td>
<td>Vehicle Continuing Dir</td>
<td>Object</td>
<td>Direction vehicle continued after crash.</td>
<td>“North”, “East”,..</td>
</tr>
<tr class="odd">
<td>33</td>
<td>Vehicle Going Dir</td>
<td>Object</td>
<td>Direction vehicle was going at time of crash.</td>
<td>“South”, “West”,..</td>
</tr>
<tr class="even">
<td>34</td>
<td>Speed Limit</td>
<td>Int64</td>
<td>Speed limit of road where crash occurred.</td>
<td>30, 55,..</td>
</tr>
<tr class="odd">
<td>35</td>
<td>Driverless Vehicle</td>
<td>Object</td>
<td>Whether vehicle was driverless (autonomous).</td>
<td>“Yes”, “No”,..</td>
</tr>
<tr class="even">
<td>36</td>
<td>Parked Vehicle</td>
<td>Object</td>
<td>Whether vehicle was parked at time of crash.</td>
<td>“Yes”, “No”,..</td>
</tr>
<tr class="odd">
<td>37</td>
<td>Vehicle Year</td>
<td>Int64</td>
<td>Year of manufacture of the vehicle.</td>
<td>2019, 2022</td>
</tr>
<tr class="even">
<td>38</td>
<td>Vehicle Make</td>
<td>Object</td>
<td>Make or brand of the vehicle.</td>
<td>“Toyota”, “Ford”,..</td>
</tr>
<tr class="odd">
<td>39</td>
<td>Vehicle Model</td>
<td>Object</td>
<td>Model of the vehicle.</td>
<td>“Camry”, “F-150”,..</td>
</tr>
<tr class="even">
<td>40</td>
<td>Equipment Problems</td>
<td>Object</td>
<td>Any equipment problems contributing to crash.</td>
<td>“Brake Failure”, “Tire Blowout”,..</td>
</tr>
<tr class="odd">
<td>41</td>
<td>Latitude</td>
<td>Float64</td>
<td>Latitude coordinate of crash location.</td>
<td>40.7128, 34.0522,..</td>
</tr>
<tr class="even">
<td>42</td>
<td>Longitude</td>
<td>Float64</td>
<td>Longitude coordinate of crash location.</td>
<td>-74.0060, -118.2437,..</td>
</tr>
<tr class="odd">
<td>43</td>
<td>Location</td>
<td>Object</td>
<td>Description or address of crash location.</td>
<td>“123 Main St, City A”,..</td>
</tr>
</tbody>
</table>
<div style="text-align:justify">
<p>This table provides a clear overview of each column in the dataset, its data type, an explanation of what the column represents, and example values for better understanding.</p>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>